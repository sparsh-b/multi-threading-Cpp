<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Multi-threading in modern C++: /home/sparsh/coding practise/multi-threading-C++/lock_try_lock.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Multi-threading in modern C++
   &#160;<span id="projectnumber">0.0.0</span>
   </div>
   <div id="projectbrief">Documentation for the source code of &lt;a href=&quot;https://github.com/sparsh-b/multi-threading-Cpp&quot;&gt;this&lt;/a&gt; Github repo.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">/home/sparsh/coding practise/multi-threading-C++/lock_try_lock.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Demonstration of blocking nature of mutex::lock() and non-blocking nature of mutex::try_lock()  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;bits/stdc++.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for lock_try_lock.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="lock__try__lock_8cpp__incl.png" border="0" usemap="#_2home_2sparsh_2coding_01practise_2multi-threading-_c_09_09_2lock__try__lock_8cpp" alt=""/></div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a40bf94d690e40770ee985b0b57be2445"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lock__try__lock_8cpp.html#a40bf94d690e40770ee985b0b57be2445">increment_to_100k_lock</a> ()</td></tr>
<tr class="separator:a40bf94d690e40770ee985b0b57be2445"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac01559104783b094722fdaeb8220d69b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lock__try__lock_8cpp.html#ac01559104783b094722fdaeb8220d69b">increment_to_100k_try_lock</a> ()</td></tr>
<tr class="separator:ac01559104783b094722fdaeb8220d69b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memItemLeft" align="right" valign="top"><a id="ae66f6b31b5ad750f1fe042a706a4e3d4"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>main</b> ()</td></tr>
<tr class="separator:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a15e9e5993944ace8611cbb05e0d5c071"><td class="memItemLeft" align="right" valign="top"><a id="a15e9e5993944ace8611cbb05e0d5c071"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>x_lock</b> = 0</td></tr>
<tr class="separator:a15e9e5993944ace8611cbb05e0d5c071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad33b915ec2a0fcbb0713404ada39430"><td class="memItemLeft" align="right" valign="top"><a id="aad33b915ec2a0fcbb0713404ada39430"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>x_try_lock</b> = 0</td></tr>
<tr class="separator:aad33b915ec2a0fcbb0713404ada39430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29ac681ec3efa9e30e1ab1ab251b47f9"><td class="memItemLeft" align="right" valign="top"><a id="a29ac681ec3efa9e30e1ab1ab251b47f9"></a>
mutex&#160;</td><td class="memItemRight" valign="bottom"><b>mtx</b></td></tr>
<tr class="separator:a29ac681ec3efa9e30e1ab1ab251b47f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Demonstration of blocking nature of mutex::lock() and non-blocking nature of mutex::try_lock() </p>
<dl class="section author"><dt>Author</dt><dd>(<a href="https://github.com/sparsh-b">https://github.com/sparsh-b</a>) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2023-05-27</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2023 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a40bf94d690e40770ee985b0b57be2445"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40bf94d690e40770ee985b0b57be2445">&#9670;&nbsp;</a></span>increment_to_100k_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void increment_to_100k_lock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>mutex::lock() has a blocking nature. So, when threads t1 &amp; t2 execute in parallel, some of the 100k iterations of each thread will be able to lock the mutex &amp; execute the increment operation immediately while the others would be required to wait and get the lock acquired before executing the increment operation. But all the 100k iterations of both the threads will be able to execute the increment operation for sure in every run of the code.</p>
<p>Consequently, the value of <code>x_lock</code> that gets printed in the <code>main()</code> function is 200k in every run.</p>

</div>
</div>
<a id="ac01559104783b094722fdaeb8220d69b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac01559104783b094722fdaeb8220d69b">&#9670;&nbsp;</a></span>increment_to_100k_try_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void increment_to_100k_try_lock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>mutex::try_lock() has a non-blocking nature. So, when threads t3 &amp; t4 execute in parallel, some of the 100k iterations of each thread get continue-ed as the iterations of the other thread lock-ed the mutex already. The number of iterations that get continue-ed, varies on each run of the program. Consequently, the value of <code>x_try_lock</code> that gets printed in the last line of <code>main()</code> varies each run.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
